{"remainingRequest":"D:\\Programs\\Project\\gin-vue-admin-master\\web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Programs\\Project\\gin-vue-admin-master\\web\\src\\view\\person\\person.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Programs\\Project\\gin-vue-admin-master\\web\\src\\view\\person\\person.vue","mtime":1600866450000},{"path":"D:\\Programs\\Project\\gin-vue-admin-master\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Programs\\Project\\gin-vue-admin-master\\web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Programs\\Project\\gin-vue-admin-master\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Programs\\Project\\gin-vue-admin-master\\web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDaG9vc2VJbWcgZnJvbSAiQC9jb21wb25lbnRzL2Nob29zZUltZyI7CmltcG9ydCB7c2V0VXNlckluZm99IGZyb20gIkAvYXBpL3VzZXIiCmltcG9ydCB7IG1hcEdldHRlcnMsIG1hcE11dGF0aW9ucyB9IGZyb20gJ3Z1ZXgnCmNvbnN0IHBhdGggPSBwcm9jZXNzLmVudi5WVUVfQVBQX0JBU0VfQVBJCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUGVyc29uJywKICBkYXRhKCl7CiAgICByZXR1cm4gewogICAgICBwYXRoOnBhdGgKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKCQlDaG9vc2VJbWcKCX0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoJ3VzZXInLCBbJ3VzZXJJbmZvJywgJ3Rva2VuJ10pCiAgfSwKICBtZXRob2RzOnsKICAgIC4uLm1hcE11dGF0aW9ucygndXNlcicsWydSZXNldFVzZXJJbmZvJ10pLAogICAgICBvcGVuQ2hvb3NlSW1nKCl7CiAgICAgICAgdGhpcy4kcmVmcy5jaG9vc2VJbWcub3BlbigpCiAgICAgIH0sCiAgICAgIGFzeW5jIGVudGVySW1nKHVybCl7CiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgc2V0VXNlckluZm8oe2hlYWRlckltZzp1cmwsSUQ6dGhpcy51c2VySW5mby5JRH0pCiAgICAgICAgaWYocmVzLmNvZGUgPT0gMCl7CiAgICAgICAgICB0aGlzLlJlc2V0VXNlckluZm8oe2hlYWRlckltZzp1cmx9KQogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6InN1Y2Nlc3MiLAogICAgICAgICAgICBtZXNzYWdlOiLorr7nva7miJDlip8iCiAgICAgICAgICB9CiAgICAgICAgICApCiAgICAgICAgfQogICAgICB9LAogIH0KfQo="},{"version":3,"sources":["person.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"person.vue","sourceRoot":"src/view/person","sourcesContent":["<template>\n  <div>\n    <div class=\"fl-left left-mg-xs\">\n      <el-avatar :size=\"120\" :src=\"userInfo.headerImg\" shape=\"square\" @click.native=\"openChooseImg\"></el-avatar>\n    </div>\n    <div class=\"fl-left left-mg-lg\">\n      <div>用户ID：{{userInfo.uuid}}</div>\n      <div>用户昵称：{{userInfo.nickName}}</div>\n      <div>用户组：{{userInfo.authority&&userInfo.authority.authorityName}}</div>\n    </div>\n    <ChooseImg ref=\"chooseImg\" @enter-img=\"enterImg\"/>\n  </div>\n</template>\n<script>\nimport ChooseImg from \"@/components/chooseImg\";\nimport {setUserInfo} from \"@/api/user\"\nimport { mapGetters, mapMutations } from 'vuex'\nconst path = process.env.VUE_APP_BASE_API\nexport default {\n  name: 'Person',\n  data(){\n    return {\n      path:path\n    }\n  },\n  components: {\n\t\tChooseImg\n\t},\n  computed: {\n    ...mapGetters('user', ['userInfo', 'token'])\n  },\n  methods:{\n    ...mapMutations('user',['ResetUserInfo']),\n      openChooseImg(){\n        this.$refs.chooseImg.open()\n      },\n      async enterImg(url){\n        const res = await setUserInfo({headerImg:url,ID:this.userInfo.ID})\n        if(res.code == 0){\n          this.ResetUserInfo({headerImg:url})\n          this.$message({\n            type:\"success\",\n            message:\"设置成功\"\n          }\n          )\n        }\n      },\n  }\n}\n</script>\n<style lang=\"scss\">\n.avatar-uploader .el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n}\n.avatar-uploader .el-upload:hover {\n  border-color: #409eff;\n}\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 178px;\n  height: 178px;\n  line-height: 178px;\n  text-align: center;\n}\n.avatar {\n  width: 178px;\n  height: 178px;\n  display: block;\n}\n</style>"]}]}