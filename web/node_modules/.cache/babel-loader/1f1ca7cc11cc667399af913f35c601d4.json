{"remainingRequest":"D:\\Programs\\Project\\GSL-IOT\\web\\node_modules\\babel-loader\\lib\\index.js!D:\\Programs\\Project\\GSL-IOT\\web\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\Programs\\Project\\GSL-IOT\\web\\src\\store\\module\\dictionary.js","dependencies":[{"path":"D:\\Programs\\Project\\GSL-IOT\\web\\src\\store\\module\\dictionary.js","mtime":1605233962967},{"path":"D:\\Programs\\Project\\GSL-IOT\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1605233951981},{"path":"D:\\Programs\\Project\\GSL-IOT\\web\\node_modules\\babel-loader\\lib\\index.js","mtime":1605233951045},{"path":"D:\\Programs\\Project\\GSL-IOT\\web\\node_modules\\eslint-loader\\index.js","mtime":1605233954733}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovUHJvZ3JhbXMvUHJvamVjdC9HU0wtSU9UL3dlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkQ6L1Byb2dyYW1zL1Byb2plY3QvR1NMLUlPVC93ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgeyBmaW5kU3lzRGljdGlvbmFyeSB9IGZyb20gJ0AvYXBpL3N5c0RpY3Rpb25hcnknOwpleHBvcnQgdmFyIGRpY3Rpb25hcnkgPSB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogewogICAgZGljdGlvbmFyeU1hcDoge30KICB9LAogIG11dGF0aW9uczogewogICAgc2V0RGljdGlvbmFyeU1hcDogZnVuY3Rpb24gc2V0RGljdGlvbmFyeU1hcChzdGF0ZSwgZGljdGlvbmFyeU1hcCkgewogICAgICBzdGF0ZS5kaWN0aW9uYXJ5TWFwID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZS5kaWN0aW9uYXJ5TWFwKSwgZGljdGlvbmFyeU1hcCk7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICAvLyDku47lkI7lj7Dojrflj5bliqjmgIHot6/nlLEKICAgIGdldERpY3Rpb25hcnk6IGZ1bmN0aW9uIGdldERpY3Rpb25hcnkoX3JlZiwgdHlwZSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBjb21taXQsIHN0YXRlLCByZXMsIGRpY3Rpb25hcnlNYXAsIGRpY3Q7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQsIHN0YXRlID0gX3JlZi5zdGF0ZTsKCiAgICAgICAgICAgICAgICBpZiAoIXN0YXRlLmRpY3Rpb25hcnlNYXBbdHlwZV0pIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHN0YXRlLmRpY3Rpb25hcnlNYXBbdHlwZV0pOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBmaW5kU3lzRGljdGlvbmFyeSh7CiAgICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghKHJlcy5jb2RlID09IDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZGljdGlvbmFyeU1hcCA9IHt9OwogICAgICAgICAgICAgICAgZGljdCA9IFtdOwogICAgICAgICAgICAgICAgcmVzLmRhdGEucmVzeXNEaWN0aW9uYXJ5LnN5c0RpY3Rpb25hcnlEZXRhaWxzICYmIHJlcy5kYXRhLnJlc3lzRGljdGlvbmFyeS5zeXNEaWN0aW9uYXJ5RGV0YWlscy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgZGljdC5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBsYWJlbDogaXRlbS5sYWJlbCwKICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaXRlbS52YWx1ZQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgZGljdGlvbmFyeU1hcFtyZXMuZGF0YS5yZXN5c0RpY3Rpb25hcnkudHlwZV0gPSBkaWN0OwogICAgICAgICAgICAgICAgY29tbWl0KCJzZXREaWN0aW9uYXJ5TWFwIiwgZGljdGlvbmFyeU1hcCk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBzdGF0ZS5kaWN0aW9uYXJ5TWFwW3R5cGVdKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIGdldHRlcnM6IHsKICAgIGdldERpY3Rpb25hcnk6IGZ1bmN0aW9uIGdldERpY3Rpb25hcnkoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmRpY3Rpb25hcnlNYXA7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["D:/Programs/Project/GSL-IOT/web/src/store/module/dictionary.js"],"names":["findSysDictionary","dictionary","namespaced","state","dictionaryMap","mutations","setDictionaryMap","actions","getDictionary","type","commit","res","code","dict","data","resysDictionary","sysDictionaryDetails","map","item","push","label","value","getters"],"mappings":";;;;AAAA,SAASA,iBAAT,QAAkC,qBAAlC;AAEA,OAAO,IAAMC,UAAU,GAAG;AACtBC,EAAAA,UAAU,EAAE,IADU;AAEtBC,EAAAA,KAAK,EAAE;AACHC,IAAAA,aAAa,EAAE;AADZ,GAFe;AAKtBC,EAAAA,SAAS,EAAE;AACPC,IAAAA,gBADO,4BACUH,KADV,EACiBC,aADjB,EACgC;AACnCD,MAAAA,KAAK,CAACC,aAAN,mCAA2BD,KAAK,CAACC,aAAjC,GAAmDA,aAAnD;AACH;AAHM,GALW;AAWtBG,EAAAA,OAAO,EAAE;AACL;AACMC,IAAAA,aAFD,+BAEkCC,IAFlC,EAEwC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAvBC,gBAAAA,MAAuB,QAAvBA,MAAuB,EAAfP,KAAe,QAAfA,KAAe;;AAAA,qBACrCA,KAAK,CAACC,aAAN,CAAoBK,IAApB,CADqC;AAAA;AAAA;AAAA;;AAAA,iDAE9BN,KAAK,CAACC,aAAN,CAAoBK,IAApB,CAF8B;;AAAA;AAAA;AAAA,uBAInBT,iBAAiB,CAAC;AAAES,kBAAAA,IAAI,EAAJA;AAAF,iBAAD,CAJE;;AAAA;AAI/BE,gBAAAA,GAJ+B;;AAAA,sBAKjCA,GAAG,CAACC,IAAJ,IAAY,CALqB;AAAA;AAAA;AAAA;;AAM3BR,gBAAAA,aAN2B,GAMX,EANW;AAO3BS,gBAAAA,IAP2B,GAOpB,EAPoB;AAQjCF,gBAAAA,GAAG,CAACG,IAAJ,CAASC,eAAT,CAAyBC,oBAAzB,IAAiDL,GAAG,CAACG,IAAJ,CAASC,eAAT,CAAyBC,oBAAzB,CAA8CC,GAA9C,CAAkD,UAAAC,IAAI,EAAI;AACvGL,kBAAAA,IAAI,CAACM,IAAL,CAAU;AACNC,oBAAAA,KAAK,EAAEF,IAAI,CAACE,KADN;AAENC,oBAAAA,KAAK,EAAEH,IAAI,CAACG;AAFN,mBAAV;AAIH,iBALgD,CAAjD;AAMAjB,gBAAAA,aAAa,CAACO,GAAG,CAACG,IAAJ,CAASC,eAAT,CAAyBN,IAA1B,CAAb,GAA+CI,IAA/C;AACAH,gBAAAA,MAAM,CAAC,kBAAD,EAAqBN,aAArB,CAAN;AAfiC,iDAgB1BD,KAAK,CAACC,aAAN,CAAoBK,IAApB,CAhB0B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAmB5C;AArBI,GAXa;AAkCtBa,EAAAA,OAAO,EAAC;AACJd,IAAAA,aADI,yBACUL,KADV,EACgB;AAChB,aAAOA,KAAK,CAACC,aAAb;AACH;AAHG;AAlCc,CAAnB","sourcesContent":["import { findSysDictionary } from '@/api/sysDictionary'\r\n\r\nexport const dictionary = {\r\n    namespaced: true,\r\n    state: {\r\n        dictionaryMap: {},\r\n    },\r\n    mutations: {\r\n        setDictionaryMap(state, dictionaryMap) {\r\n            state.dictionaryMap = { ...state.dictionaryMap, ...dictionaryMap }\r\n        },\r\n\r\n    },\r\n    actions: {\r\n        // 从后台获取动态路由\r\n        async getDictionary({ commit, state }, type) {\r\n            if (state.dictionaryMap[type]) {\r\n                return state.dictionaryMap[type]\r\n            } else {\r\n                const res = await findSysDictionary({ type })\r\n                if (res.code == 0) {\r\n                    const dictionaryMap = {}\r\n                    const dict = []\r\n                    res.data.resysDictionary.sysDictionaryDetails && res.data.resysDictionary.sysDictionaryDetails.map(item => {\r\n                        dict.push({\r\n                            label: item.label,\r\n                            value: item.value\r\n                        })\r\n                    })\r\n                    dictionaryMap[res.data.resysDictionary.type] = dict\r\n                    commit(\"setDictionaryMap\", dictionaryMap)\r\n                    return state.dictionaryMap[type]\r\n                }\r\n            }\r\n        }\r\n    },\r\n    getters:{\r\n        getDictionary(state){\r\n            return state.dictionaryMap\r\n        }\r\n    }\r\n}"]}]}