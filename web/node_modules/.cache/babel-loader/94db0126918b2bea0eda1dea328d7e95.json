{"remainingRequest":"D:\\Programs\\Project\\gin-vue-admin-master\\web\\node_modules\\babel-loader\\lib\\index.js!D:\\Programs\\Project\\gin-vue-admin-master\\web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Programs\\Project\\gin-vue-admin-master\\web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Programs\\Project\\gin-vue-admin-master\\web\\src\\view\\superAdmin\\authority\\components\\datas.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Programs\\Project\\gin-vue-admin-master\\web\\src\\view\\superAdmin\\authority\\components\\datas.vue","mtime":1600866450000},{"path":"D:\\Programs\\Project\\gin-vue-admin-master\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Programs\\Project\\gin-vue-admin-master\\web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Programs\\Project\\gin-vue-admin-master\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Programs\\Project\\gin-vue-admin-master\\web\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJEOi9Qcm9ncmFtcy9Qcm9qZWN0L2dpbi12dWUtYWRtaW4tbWFzdGVyL3dlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiRDovUHJvZ3JhbXMvUHJvamVjdC9naW4tdnVlLWFkbWluLW1hc3Rlci93ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgc2V0RGF0YUF1dGhvcml0eSB9IGZyb20gJ0AvYXBpL2F1dGhvcml0eSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRGF0YXMnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhdXRob3JpdHlzOiBbXSwKICAgICAgZGF0YUF1dGhvcml0eUlkOiBbXSwKICAgICAgbmVlZENvbmZpcm06IGZhbHNlCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIHJvdzogewogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0sCiAgICAgIHR5cGU6IE9iamVjdAogICAgfSwKICAgIGF1dGhvcml0eTogewogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0sCiAgICAgIHR5cGU6IEFycmF5CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDmmrTpnLLnu5nlpJblsYLkvb/nlKjnmoTliIfmjaLmi6bmiKrnu5/kuIDmlrnms5UKICAgIGVudGVyQW5kTmV4dDogZnVuY3Rpb24gZW50ZXJBbmROZXh0KCkgewogICAgICB0aGlzLmF1dGhEYXRhRW50ZXIoKTsKICAgIH0sCiAgICBhbGw6IGZ1bmN0aW9uIGFsbCgpIHsKICAgICAgdGhpcy5kYXRhQXV0aG9yaXR5SWQgPSBfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5hdXRob3JpdHlzKTsKICAgICAgdGhpcy5yb3cuZGF0YUF1dGhvcml0eUlkID0gdGhpcy5kYXRhQXV0aG9yaXR5SWQ7CiAgICAgIHRoaXMubmVlZENvbmZpcm0gPSB0cnVlOwogICAgfSwKICAgIHNlbGY6IGZ1bmN0aW9uIHNlbGYoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmRhdGFBdXRob3JpdHlJZCA9IHRoaXMuYXV0aG9yaXR5cy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5hdXRob3JpdHlJZCA9PT0gX3RoaXMucm93LmF1dGhvcml0eUlkOwogICAgICB9KTsKICAgICAgdGhpcy5yb3cuZGF0YUF1dGhvcml0eUlkID0gdGhpcy5kYXRhQXV0aG9yaXR5SWQ7CiAgICAgIHRoaXMubmVlZENvbmZpcm0gPSB0cnVlOwogICAgfSwKICAgIHNlbGZBbmRDaGlsZHJlbjogZnVuY3Rpb24gc2VsZkFuZENoaWxkcmVuKCkgewogICAgICB2YXIgYXJyQm94ID0gW107CiAgICAgIHRoaXMuZ2V0Q2hpbGRyZW5JZCh0aGlzLnJvdywgYXJyQm94KTsKICAgICAgdGhpcy5kYXRhQXV0aG9yaXR5SWQgPSB0aGlzLmF1dGhvcml0eXMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGFyckJveC5pbmRleE9mKGl0ZW0uYXV0aG9yaXR5SWQpID4gLTE7CiAgICAgIH0pOwogICAgICB0aGlzLnJvdy5kYXRhQXV0aG9yaXR5SWQgPSB0aGlzLmRhdGFBdXRob3JpdHlJZDsKICAgICAgdGhpcy5uZWVkQ29uZmlybSA9IHRydWU7CiAgICB9LAogICAgZ2V0Q2hpbGRyZW5JZDogZnVuY3Rpb24gZ2V0Q2hpbGRyZW5JZChyb3csIGFyckJveCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGFyckJveC5wdXNoKHJvdy5hdXRob3JpdHlJZCk7CiAgICAgIHJvdy5jaGlsZHJlbiAmJiByb3cuY2hpbGRyZW4ubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgX3RoaXMyLmdldENoaWxkcmVuSWQoaXRlbSwgYXJyQm94KTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5o+Q5LqkCiAgICBhdXRoRGF0YUVudGVyOiBmdW5jdGlvbiBhdXRoRGF0YUVudGVyKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBzZXREYXRhQXV0aG9yaXR5KF90aGlzMy5yb3cpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PSAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLotYTmupDorr7nva7miJDlip8iCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8gICDlubPpk7rop5LoibIKICAgIHJvdW5kQXV0aG9yaXR5OiBmdW5jdGlvbiByb3VuZEF1dGhvcml0eShhdXRob3JpdHlzKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgYXV0aG9yaXR5cyAmJiBhdXRob3JpdHlzLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHZhciBvYmogPSB7fTsKICAgICAgICBvYmouYXV0aG9yaXR5SWQgPSBpdGVtLmF1dGhvcml0eUlkOwogICAgICAgIG9iai5hdXRob3JpdHlOYW1lID0gaXRlbS5hdXRob3JpdHlOYW1lOwoKICAgICAgICBfdGhpczQuYXV0aG9yaXR5cy5wdXNoKG9iaik7CgogICAgICAgIGlmIChpdGVtLmNoaWxkcmVuICYmIGl0ZW0uY2hpbGRyZW4ubGVuZ3RoKSB7CiAgICAgICAgICBfdGhpczQucm91bmRBdXRob3JpdHkoaXRlbS5jaGlsZHJlbik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyAgIOmAieaLqQogICAgc2VsZWN0QXV0aG9yaXR5OiBmdW5jdGlvbiBzZWxlY3RBdXRob3JpdHkoKSB7CiAgICAgIHRoaXMucm93LmRhdGFBdXRob3JpdHlJZCA9IHRoaXMuZGF0YUF1dGhvcml0eUlkOwogICAgICB0aGlzLm5lZWRDb25maXJtID0gdHJ1ZTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICB0aGlzLmF1dGhvcml0eXMgPSBbXTsKICAgIHRoaXMuZGF0YUF1dGhvcml0eUlkID0gW107CiAgICB0aGlzLnJvdW5kQXV0aG9yaXR5KHRoaXMuYXV0aG9yaXR5KTsKICAgIHRoaXMucm93LmRhdGFBdXRob3JpdHlJZCAmJiB0aGlzLnJvdy5kYXRhQXV0aG9yaXR5SWQubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIHZhciBvYmogPSBfdGhpczUuYXV0aG9yaXR5cyAmJiBfdGhpczUuYXV0aG9yaXR5cy5maWx0ZXIoZnVuY3Rpb24gKGF1KSB7CiAgICAgICAgcmV0dXJuIGF1LmF1dGhvcml0eUlkID09PSBpdGVtLmF1dGhvcml0eUlkOwogICAgICB9KSAmJiBfdGhpczUuYXV0aG9yaXR5cy5maWx0ZXIoZnVuY3Rpb24gKGF1KSB7CiAgICAgICAgcmV0dXJuIGF1LmF1dGhvcml0eUlkID09PSBpdGVtLmF1dGhvcml0eUlkOwogICAgICB9KVswXTsKCiAgICAgIF90aGlzNS5kYXRhQXV0aG9yaXR5SWQucHVzaChvYmopOwogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["datas.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n      <div class=\"clearflex\" style=\"margin:18px\">\n      <el-button @click=\"authDataEnter\" class=\"fl-right\" size=\"small\" type=\"primary\">确 定</el-button>\n      <el-button @click=\"all\" class=\"fl-left\" size=\"small\" type=\"primary\">全选</el-button>\n      <el-button @click=\"self\" class=\"fl-left\" size=\"small\" type=\"primary\">本角色</el-button>\n      <el-button @click=\"selfAndChildren\" class=\"fl-left\" size=\"small\" type=\"primary\">本角色及子角色</el-button>\n    </div>\n     <el-checkbox-group v-model=\"dataAuthorityId\" @change=\"selectAuthority\">\n        <el-checkbox v-for=\"(item,key) in authoritys\" :label=\"item\" :key=\"key\">{{item.authorityName}}</el-checkbox>\n    </el-checkbox-group>\n  </div>\n</template>\n<script>\nimport {setDataAuthority} from '@/api/authority'\nexport default {\n  name: 'Datas',\n  data() {\n    return {\n        authoritys:[],\n        dataAuthorityId:[],\n        needConfirm:false\n    }\n  },\n  props: {\n    row: {\n      default: function() {\n        return {}\n      },\n      type: Object\n    },\n    authority: {\n      default: function() {\n        return {}\n      },\n      type: Array\n    }\n  },\n  methods:{\n    // 暴露给外层使用的切换拦截统一方法\n      enterAndNext(){\n        this.authDataEnter()\n      },\n      all(){\n         this.dataAuthorityId = [...this.authoritys]\n         this.row.dataAuthorityId = this.dataAuthorityId\n         this.needConfirm = true\n      },\n      self(){\n          this.dataAuthorityId = this.authoritys.filter(item=>item.authorityId===this.row.authorityId)\n          this.row.dataAuthorityId = this.dataAuthorityId\n          this.needConfirm = true\n      },\n      selfAndChildren(){\n         const arrBox = []\n         this.getChildrenId(this.row,arrBox)\n         this.dataAuthorityId = this.authoritys.filter(item=>arrBox.indexOf(item.authorityId)>-1)\n         this.row.dataAuthorityId = this.dataAuthorityId\n         this.needConfirm = true\n      },\n      getChildrenId(row,arrBox){\n          arrBox.push(row.authorityId)\n          row.children&&row.children.map(item=>{\n              this.getChildrenId(item,arrBox)\n          })\n      },\n    // 提交\n      async authDataEnter(){\n          const res = await setDataAuthority(this.row)\n          if(res.code == 0){\n              this.$message({ type: 'success', message: \"资源设置成功\" })\n          }\n      },\n    //   平铺角色\n      roundAuthority(authoritys){\n          authoritys&&authoritys.map(item=>{\n              const obj = {}\n              obj.authorityId = item.authorityId\n              obj.authorityName = item.authorityName\n              this.authoritys.push(obj)\n              if(item.children&&item.children.length){\n                  this.roundAuthority(item.children)\n              }\n          })\n      },\n    //   选择\n      selectAuthority(){\n          this.row.dataAuthorityId = this.dataAuthorityId\n          this.needConfirm = true\n      }\n  },\n  created() {\n      this.authoritys = []\n      this.dataAuthorityId = []\n      this.roundAuthority(this.authority)\n      this.row.dataAuthorityId&&this.row.dataAuthorityId.map(item=>{\n          const obj = this.authoritys&&this.authoritys.filter(au=>au.authorityId === item.authorityId)&&this.authoritys.filter(au=>au.authorityId === item.authorityId)[0]\n          this.dataAuthorityId.push(obj)\n      })\n  }\n}\n</script>\n<style lang=\"less\">\n</style>"],"sourceRoot":"src/view/superAdmin/authority/components"}]}