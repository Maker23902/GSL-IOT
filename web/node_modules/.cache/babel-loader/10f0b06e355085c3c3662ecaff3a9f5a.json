{"remainingRequest":"G:\\Go\\project\\GSL-IOT\\web\\node_modules\\babel-loader\\lib\\index.js!G:\\Go\\project\\GSL-IOT\\web\\node_modules\\eslint-loader\\index.js??ref--13-0!G:\\Go\\project\\GSL-IOT\\web\\src\\store\\module\\user.js","dependencies":[{"path":"G:\\Go\\project\\GSL-IOT\\web\\src\\store\\module\\user.js","mtime":1601862474847},{"path":"G:\\Go\\project\\GSL-IOT\\web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1601862450187},{"path":"G:\\Go\\project\\GSL-IOT\\web\\node_modules\\babel-loader\\lib\\index.js","mtime":1601862448530},{"path":"G:\\Go\\project\\GSL-IOT\\web\\node_modules\\eslint-loader\\index.js","mtime":1601862456257}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRzovR28vcHJvamVjdC9HU0wtSU9UL3dlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkc6L0dvL3Byb2plY3QvR1NMLUlPVC93ZWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgeyBsb2dpbiB9IGZyb20gJ0AvYXBpL3VzZXInOwppbXBvcnQgeyBqc29uSW5CbGFja2xpc3QgfSBmcm9tICdAL2FwaS9qd3QnOwppbXBvcnQgcm91dGVyIGZyb20gJ0Avcm91dGVyL2luZGV4JzsKZXhwb3J0IHZhciB1c2VyID0gewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHsKICAgIHVzZXJJbmZvOiB7CiAgICAgIHV1aWQ6ICIiLAogICAgICBuaWNrTmFtZTogIiIsCiAgICAgIGhlYWRlckltZzogIiIsCiAgICAgIGF1dGhvcml0eTogIiIKICAgIH0sCiAgICB0b2tlbjogIiIKICB9LAogIG11dGF0aW9uczogewogICAgc2V0VXNlckluZm86IGZ1bmN0aW9uIHNldFVzZXJJbmZvKHN0YXRlLCB1c2VySW5mbykgewogICAgICAvLyDov5nph4znmoQgYHN0YXRlYCDlr7nosaHmmK/mqKHlnZfnmoTlsYDpg6jnirbmgIEKICAgICAgc3RhdGUudXNlckluZm8gPSB1c2VySW5mbzsKICAgIH0sCiAgICBzZXRUb2tlbjogZnVuY3Rpb24gc2V0VG9rZW4oc3RhdGUsIHRva2VuKSB7CiAgICAgIC8vIOi/memHjOeahCBgc3RhdGVgIOWvueixoeaYr+aooeWdl+eahOWxgOmDqOeKtuaAgQogICAgICBzdGF0ZS50b2tlbiA9IHRva2VuOwogICAgfSwKICAgIExvZ2luT3V0OiBmdW5jdGlvbiBMb2dpbk91dChzdGF0ZSkgewogICAgICBzdGF0ZS51c2VySW5mbyA9IHt9OwogICAgICBzdGF0ZS50b2tlbiA9ICIiOwogICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ2xvZ2luJywKICAgICAgICByZXBsYWNlOiB0cnVlCiAgICAgIH0pOwogICAgICBzZXNzaW9uU3RvcmFnZS5jbGVhcigpOwogICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICB9LAogICAgUmVzZXRVc2VySW5mbzogZnVuY3Rpb24gUmVzZXRVc2VySW5mbyhzdGF0ZSkgewogICAgICB2YXIgdXNlckluZm8gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9OwogICAgICBzdGF0ZS51c2VySW5mbyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc3RhdGUudXNlckluZm8pLCB1c2VySW5mbyk7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBMb2dpbkluOiBmdW5jdGlvbiBMb2dpbkluKF9yZWYsIGxvZ2luSW5mbykgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBjb21taXQsIHJlcywgcmVkaXJlY3Q7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBsb2dpbihsb2dpbkluZm8pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PSAwKSB7CiAgICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0VXNlckluZm8nLCByZXMuZGF0YS51c2VyKTsKICAgICAgICAgICAgICAgICAgY29tbWl0KCdzZXRUb2tlbicsIHJlcy5kYXRhLnRva2VuKTsKICAgICAgICAgICAgICAgICAgcmVkaXJlY3QgPSByb3V0ZXIuaGlzdG9yeS5jdXJyZW50LnF1ZXJ5LnJlZGlyZWN0OwoKICAgICAgICAgICAgICAgICAgaWYgKHJlZGlyZWN0KSB7CiAgICAgICAgICAgICAgICAgICAgcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgcGF0aDogcmVkaXJlY3QKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgICBwYXRoOiAnL2xheW91dC9kYXNoYm9hcmQnCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIExvZ2luT3V0OiBmdW5jdGlvbiBMb2dpbk91dChfcmVmMikgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgY29tbWl0LCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBqc29uSW5CbGFja2xpc3QoKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09IDApIHsKICAgICAgICAgICAgICAgICAgY29tbWl0KCJMb2dpbk91dCIpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIGdldHRlcnM6IHsKICAgIHVzZXJJbmZvOiBmdW5jdGlvbiB1c2VySW5mbyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUudXNlckluZm87CiAgICB9LAogICAgdG9rZW46IGZ1bmN0aW9uIHRva2VuKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS50b2tlbjsKICAgIH0KICB9Cn07"},{"version":3,"sources":["G:/Go/project/GSL-IOT/web/src/store/module/user.js"],"names":["login","jsonInBlacklist","router","user","namespaced","state","userInfo","uuid","nickName","headerImg","authority","token","mutations","setUserInfo","setToken","LoginOut","push","name","replace","sessionStorage","clear","window","location","reload","ResetUserInfo","actions","LoginIn","loginInfo","commit","res","code","data","redirect","history","current","query","path","getters"],"mappings":"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","sourcesContent":["import { login } from '@/api/user'\nimport { jsonInBlacklist } from '@/api/jwt'\nimport router from '@/router/index'\nexport const user = {\n    namespaced: true,\n    state: {\n        userInfo: {\n            uuid: \"\",\n            nickName: \"\",\n            headerImg: \"\",\n            authority: \"\",\n        },\n        token: \"\",\n    },\n    mutations: {\n        setUserInfo(state, userInfo) {\n            // 这里的 `state` 对象是模块的局部状态\n            state.userInfo = userInfo\n        },\n        setToken(state, token) {\n            // 这里的 `state` 对象是模块的局部状态\n            state.token = token\n        },\n        LoginOut(state) {\n            state.userInfo = {}\n            state.token = \"\"\n            router.push({ name: 'login', replace: true })\n            sessionStorage.clear()\n            window.location.reload()\n        },\n        ResetUserInfo(state, userInfo = {}) {\n            state.userInfo = {...state.userInfo,\n                ...userInfo\n            }\n        }\n    },\n    actions: {\n        async LoginIn({ commit }, loginInfo) {\n            const res = await login(loginInfo)\n            if (res.code == 0) {\n                commit('setUserInfo', res.data.user)\n                commit('setToken', res.data.token)\n                const redirect = router.history.current.query.redirect\n                if (redirect) {\n                    router.push({ path: redirect })\n                } else {\n                    router.push({ path: '/layout/dashboard' })\n                }\n            }\n        },\n        async LoginOut({ commit }) {\n            const res = await jsonInBlacklist()\n            if (res.code == 0) {\n                commit(\"LoginOut\")\n            }\n        }\n    },\n    getters: {\n        userInfo(state) {\n            return state.userInfo\n        },\n        token(state) {\n            return state.token\n        },\n\n    }\n}"]}]}